# 개발일지

## 2026-01-19 (Day 1)

### 완료 사항

**1. MinerU 설치 및 테스트**
- MinerU v2.7.1 설치 완료
- Mac MPS 설정 (`~/.mineru/config.json`)
- test.pdf 파싱 성공 (Body: 71 paragraphs, Tables: 1, Equations: 3)

**2. AI Agent 워크플로우 구축**
- Claude Code: 계획/설계 담당
- Codex: 코드 구현/실행 담당
- `CODEX_PROMPT.md` → `codex-result.md` 워크플로우 확립

**3. 핵심 모듈 구현**
- `src/parser/mineru_parser.py`: MinerU CLI 래퍼
- `src/parser/paragraph_builder.py`: 블록 → 개별 Paragraph 변환
- `src/translator/openai_translator.py`: OpenAI API 번역 (gpt-4o-mini)
- `src/cli.py`: CLI 파이프라인

**4. 번역 속도 최적화**
- 배치 번역 구현 (25개 문단씩)
- AsyncOpenAI 병렬 처리 (semaphore=3)
- 결과: ~40초 (71개 문단)

**5. Gradio 프론트엔드**
- 좌우 분할 레이아웃 (PDF | 번역본)
- PDF 이미지 렌더링 (PyMuPDF)
- bbox 좌표 기반 하이라이트 동기화 시도

### 알려진 이슈
- MinerU MPS/CPU 크래시 → 기존 output 재사용으로 우회
- **하이라이트 동기화 미작동** (PDF는 보이나 hover 시 하이라이트 안 됨)

### 다음 작업
- [ ] 하이라이트 동기화 디버깅 (bbox 좌표 확인, SVG 오버레이 점검)
- [ ] UI/UX 개선
